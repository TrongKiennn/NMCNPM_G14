<header class="bg-slate-900 relative">
  <div class="container mx-auto px-6 py-3">
    <div class="flex items-center justify-between">
      <div class="hidden w-full text-gray-600 md:flex md:items-center">
        <i class="gg-profile"></i>
      </div>
      <div class="w-full text-blue-300 md:text-center font-mono text-4xl font-semibold uppercase tracking-widest">
        <a href="/">SUPERSTORE</a>
      </div>
      <div class="flex items-center justify-end w-full">
        <button @click="cartOpen = !cartOpen" class="text-gray-600 focus:outline-none mx-4 sm:mx-0">
          <i class="gg-shopping-cart"></i>
        </button>

        <div class="flex sm:hidden">
          <button @click="isOpen = !isOpen" type="button"
            class="text-gray-600 hover:text-gray-500 focus:outline-none focus:text-gray-500" aria-label="toggle menu">
            <i class="gg-menu-grid-r"></i>
          </button>
        </div>
      </div>
    </div>
    <nav :class="isOpen ? '' : 'hidden'" class="sm:flex sm:justify-center sm:items-center mt-4">
      <div id="category-bar" class="flex flex-col sm:flex-row">
        <a class="mt-3 text-white hover:underline sm:mx-3 sm:mt-0" href="/">Home</a>
        <div class="relative inline-block mt-3 sm:mt-0 z-50 group">
          <!-- Dropdown Trigger -->
          <a href="/category" class="text-white hover:underline sm:mx-3 sm:mt-0 cursor-pointer">
            Category
          </a>
          <!-- Dropdown Menu -->
          <div
            class="dropdown-menu absolute -right-12 mt-0 w-48 bg-white border border-gray-200 rounded-lg shadow-lg hidden group-hover:block">
            <a href="/category/computers" class="block px-4 py-2 text-gray-800 hover:bg-gray-100">
              Computers
            </a>
            <a href="/category/mobilephones" class="block px-4 py-2 text-gray-800 hover:bg-gray-100">
              Mobilephones
            </a>
            <a href="/category/televisions" class="block px-4 py-2 text-gray-800 hover:bg-gray-100">
              Televisions
            </a>
          </div>
        </div>


        <a class="mt-3 text-white hover:underline sm:mx-3 sm:mt-0" href="/cart">Cart</a>
        <a class="mt-3 text-white hover:underline sm:mx-3 sm:mt-0" href="#">Contact</a>
        <a class="mt-3 text-white hover:underline sm:mx-3 sm:mt-0" href="/register">Register</a>
      </div>
    </nav>
    <!-- #region Search -->
    <div id="search-bar" class="relative mt-6 max-w-lg mx-auto col-span-4">
      <form method="GET" action="/search/results">
        <span class="absolute inset-y-0 left-0 pl-3 flex items-center z-10">
          <i class="gg-search"></i>
        </span>
        <input
          class="bg-gray-100 h-8 mb-2 rounded-xl pl-10 block w-full border-gray-300 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"
          type="text" name="search" placeholder="Search for a product..." required />
      </form>
    </div>
    <!-- #endregion Search -->
  </div>
</header>

<script>
  // Lấy URL hiện tại
  const currentUrl = window.location.pathname;

  // Kiểm tra nếu đang ở trang login hoặc register
  if (currentUrl.includes('login') || currentUrl.includes('register')) {
    document.getElementById('search-bar').style.display = 'none';
    document.getElementById('category-bar').style.display = 'none';
  }
</script>